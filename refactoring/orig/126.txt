{"modules":[{"type":"output","id":"_OUTPUT","conf":{}},{"type":"uniq","id":"sw-210","conf":{"field":{"value":"title","type":"text"}}},{"type":"truncate","id":"sw-277","conf":{"count":{"type":"number","terminal":"count"}}},{"type":"filter","id":"sw-263","conf":{"MODE":{"type":"text","value":"permit"},"COMBINE":{"type":"text","value":"and"},"RULE":[{"field":{"value":"y:published.utime","type":"text"},"op":{"type":"text","value":"greater"},"value":{"type":"text","terminal":"RULE_1_value","subkey":"utime"}}]}},{"type":"union","id":"sw-320","conf":{}},{"type":"loop","id":"sw-388","conf":{"with":{"value":"title","type":"text"},"embed":{"value":{"type":"termextraction","id":"sw-403","conf":{"mode":{"type":"text","value":"list"}}},"type":"module"},"emit_part":{"type":"text","value":"all"},"mode":{"type":"text","value":"assign"},"assign_part":{"type":"text","value":"first"},"assign_to":{"value":"loop:termextraction","type":"text"}}},{"type":"uniq","id":"sw-410","conf":{"field":{"value":"loop:termextraction.content","type":"text"}}},{"type":"regex","id":"sw-427","conf":{"RULE":[{"field":{"value":"loop:termextraction.content","type":"text"},"match":{"value":"^$","type":"text"},"replace":{"value":"NULL","type":"text"}},{"field":{"value":"description","type":"text"},"match":{"value":"^","type":"text"},"replace":{"value":"(${y:published.day}.${y:published.month}.${y:published.year}) ","type":"text"}},{"field":{"value":"y:id.value","type":"text"},"match":{"value":".*","type":"text"},"replace":{"value":"${link}","type":"text"}},{"field":{"value":"y:id.value","type":"text"},"match":{"value":"http://","type":"text"},"replace":{"value":"","type":"text"}},{"field":{"value":"y:id.value","type":"text"},"match":{"value":"/.*$","type":"text"},"replace":{"value":"","type":"text"}},{"field":{"value":"title","type":"text"},"match":{"value":"$","type":"text"},"replace":{"value":" [${loop:termextraction.content}:${y:repeatcount} @ ${y:id.value}]","type":"text"}}]}},{"type":"sort","id":"sw-442","conf":{"KEY":[{"field":{"value":"y:repeatcount","type":"text"},"dir":{"type":"text","value":"DESC"}},{"field":{"value":"y:published.utime","type":"text"},"dir":{"type":"text","value":"DESC"}}]}},{"type":"filter","id":"sw-472","conf":{"MODE":{"type":"text","value":"block"},"COMBINE":{"type":"text","value":"or"},"RULE":[{"field":{"value":"loop:termextraction.content","type":"text"},"op":{"type":"text","value":"contains"},"value":{"value":"NULL","type":"text"}},{"field":{"value":"y:repeatcount","type":"text"},"op":{"type":"text","value":"less"},"value":{"value":"2","type":"text"}}]}},{"type":"sort","id":"sw-414","conf":{"KEY":[{"field":{"value":"y:published.utime","type":"text"},"dir":{"type":"text","value":"DESC"}}]}},{"type":"split","id":"sw-318","conf":{}},{"type":"sort","id":"sw-328","conf":{"KEY":[{"field":{"value":"y:published","type":"text"},"dir":{"type":"text","value":"ASC"}}]}},{"type":"regex","id":"sw-335","conf":{"RULE":[{"field":{"value":"title","type":"text"},"match":{"value":"$","type":"text"},"replace":{"value":"==SORT_TIME","type":"text"}},{"field":{"value":"title","type":"text"},"match":{"type":"text","terminal":"RULE_2_match"},"replace":{"value":"","type":"text"}}]}},{"type":"regex","id":"sw-350","conf":{"RULE":[{"field":{"value":"title","type":"text"},"match":{"value":"$","type":"text"},"replace":{"value":"==SORT_POP","type":"text"}},{"field":{"value":"title","type":"text"},"match":{"type":"text","terminal":"RULE_2_match"},"replace":{"value":"","type":"text"}}]}},{"type":"truncate","id":"sw-365","conf":{"count":{"type":"number","terminal":"count"}}},{"type":"textinput","id":"sw-376","conf":{"name":{"value":"date_or_pop","type":"text"},"prompt":{"value":"Sort criteria (TIME or POP)","type":"text"},"position":{"value":"3","type":"number"},"default":{"value":"POP","type":"text"},"debug":{"value":"","type":"text"}}},{"type":"strconcat","id":"sw-380","conf":{"part":[{"value":"==SORT_","type":"text"},{"type":"text","terminal":"2_part"}]}},{"type":"union","id":"sw-408","conf":{}},{"type":"filter","id":"sw-428","conf":{"MODE":{"type":"text","value":"block"},"COMBINE":{"type":"text","value":"and"},"RULE":[{"field":{"value":"title","type":"text"},"op":{"type":"text","value":"contains"},"value":{"value":"==SORT_","type":"text"}}]}},{"type":"textinput","id":"sw-329","conf":{"name":{"value":"SearchRegex","type":"text"},"prompt":{"value":"Search Regex","type":"text"},"position":{"value":"1","type":"number"},"default":{"value":"[a-z]","type":"text"},"debug":{"value":"","type":"text"}}},{"type":"rename","id":"sw-333","conf":{"RULE":[{"field":{"value":"title","type":"text"},"op":{"type":"text","value":"copy"},"newval":{"value":"lowertitle","type":"text"}}]}},{"type":"strregex","id":"sw-344","conf":{"RULE":[{"match":{"value":"(.*)","type":"text"},"replace":{"value":"\\L$1","type":"text"}}]}},{"type":"regex","id":"sw-359","conf":{"RULE":[{"field":{"value":"lowertitle","type":"text"},"match":{"value":"(.*)","type":"text"},"replace":{"value":"\\L$1","type":"text"}}]}},{"type":"fetch","id":"sw-374","conf":{"URL":{"value":"http://rss.cnn.com/rss/cnn_world.rss","type":"url"}}},{"type":"filter","id":"sw-382","conf":{"MODE":{"type":"text","value":"permit"},"COMBINE":{"type":"text","value":"or"},"RULE":[{"field":{"value":"lowertitle","type":"text"},"op":{"type":"text","value":"matches"},"value":{"type":"text","terminal":"RULE_1_value"}}]}},{"type":"textinput","id":"sw-386","conf":{"name":{"value":"BlockRegex","type":"text"},"prompt":{"value":"Block Regex","type":"text"},"position":{"value":"2","type":"number"},"default":{"value":"XXXXXXXX","type":"text"},"debug":{"value":"","type":"text"}}},{"type":"strregex","id":"sw-390","conf":{"RULE":[{"match":{"value":"(.*)","type":"text"},"replace":{"value":"\\L$1","type":"text"}}]}},{"type":"filter","id":"sw-405","conf":{"MODE":{"type":"text","value":"block"},"COMBINE":{"type":"text","value":"and"},"RULE":[{"field":{"value":"lowertitle","type":"text"},"op":{"type":"text","value":"matches"},"value":{"type":"text","terminal":"RULE_1_value"}}]}},{"type":"dateinput","id":"sw-418","conf":{"name":{"value":"Time","type":"text"},"prompt":{"value":"Publication Time","type":"text"},"position":{"value":"3","type":"number"},"default":{"value":"3 days ago","type":"datetime"},"debug":{"value":"","type":"datetime"}}},{"type":"numberinput","id":"sw-422","conf":{"name":{"value":"NumResults","type":"text"},"prompt":{"value":"Number of Results","type":"text"},"position":{"value":"4","type":"number"},"default":{"value":"10","type":"number"},"debug":{"value":"","type":"number"}}}],"wires":[{"id":"_w0","src":{"id":"_OUTPUT","moduleid":"sw-210"},"tgt":{"id":"_INPUT","moduleid":"sw-333"}},{"id":"_w1","src":{"id":"_OUTPUT","moduleid":"sw-277"},"tgt":{"id":"_INPUT","moduleid":"sw-350"}},{"id":"_w2","src":{"id":"_OUTPUT","moduleid":"sw-263"},"tgt":{"id":"_INPUT","moduleid":"sw-414"}},{"id":"_w3","src":{"id":"_OUTPUT","moduleid":"sw-320"},"tgt":{"id":"_INPUT","moduleid":"sw-263"}},{"id":"_w4","src":{"id":"_OUTPUT","moduleid":"sw-388"},"tgt":{"id":"_INPUT","moduleid":"sw-410"}},{"id":"_w5","src":{"id":"_OUTPUT","moduleid":"sw-410"},"tgt":{"id":"_INPUT","moduleid":"sw-427"}},{"id":"_w6","src":{"id":"_OUTPUT","moduleid":"sw-427"},"tgt":{"id":"_INPUT","moduleid":"sw-318"}},{"id":"_w7","src":{"id":"_OUTPUT","moduleid":"sw-442"},"tgt":{"id":"_INPUT","moduleid":"sw-277"}},{"id":"_w8","src":{"id":"_OUTPUT","moduleid":"sw-472"},"tgt":{"id":"_INPUT","moduleid":"sw-442"}},{"id":"_w9","src":{"id":"_OUTPUT","moduleid":"sw-414"},"tgt":{"id":"_INPUT","moduleid":"sw-210"}},{"id":"_w10","src":{"id":"_OUTPUT","moduleid":"sw-318"},"tgt":{"id":"_INPUT","moduleid":"sw-472"}},{"id":"_w11","src":{"id":"_OUTPUT2","moduleid":"sw-318"},"tgt":{"id":"_INPUT","moduleid":"sw-328"}},{"id":"_w12","src":{"id":"_OUTPUT","moduleid":"sw-328"},"tgt":{"id":"_INPUT","moduleid":"sw-365"}},{"id":"_w13","src":{"id":"_OUTPUT","moduleid":"sw-335"},"tgt":{"id":"_OTHER1","moduleid":"sw-408"}},{"id":"_w14","src":{"id":"_OUTPUT","moduleid":"sw-350"},"tgt":{"id":"_INPUT","moduleid":"sw-408"}},{"id":"_w15","src":{"id":"_OUTPUT","moduleid":"sw-365"},"tgt":{"id":"_INPUT","moduleid":"sw-335"}},{"id":"_w16","src":{"id":"_OUTPUT","moduleid":"sw-376"},"tgt":{"id":"2_part","moduleid":"sw-380"}},{"id":"_w17","src":{"id":"_OUTPUT","moduleid":"sw-380"},"tgt":{"id":"RULE_2_match","moduleid":"sw-335"}},{"id":"_w18","src":{"id":"_OUTPUT","moduleid":"sw-380"},"tgt":{"id":"RULE_2_match","moduleid":"sw-350"}},{"id":"_w19","src":{"id":"_OUTPUT","moduleid":"sw-408"},"tgt":{"id":"_INPUT","moduleid":"sw-428"}},{"id":"_w20","src":{"id":"_OUTPUT","moduleid":"sw-428"},"tgt":{"id":"_INPUT","moduleid":"_OUTPUT"}},{"id":"_w21","src":{"id":"_OUTPUT","moduleid":"sw-329"},"tgt":{"id":"_INPUT","moduleid":"sw-344"}},{"id":"_w22","src":{"id":"_OUTPUT","moduleid":"sw-333"},"tgt":{"id":"_INPUT","moduleid":"sw-359"}},{"id":"_w23","src":{"id":"_OUTPUT","moduleid":"sw-344"},"tgt":{"id":"RULE_1_value","moduleid":"sw-382"}},{"id":"_w24","src":{"id":"_OUTPUT","moduleid":"sw-359"},"tgt":{"id":"_INPUT","moduleid":"sw-382"}},{"id":"_w25","src":{"id":"_OUTPUT","moduleid":"sw-374"},"tgt":{"id":"_OTHER","moduleid":"sw-320"}},{"id":"_w26","src":{"id":"_OUTPUT","moduleid":"sw-382"},"tgt":{"id":"_INPUT","moduleid":"sw-405"}},{"id":"_w27","src":{"id":"_OUTPUT","moduleid":"sw-386"},"tgt":{"id":"_INPUT","moduleid":"sw-390"}},{"id":"_w28","src":{"id":"_OUTPUT","moduleid":"sw-390"},"tgt":{"id":"RULE_1_value","moduleid":"sw-405"}},{"id":"_w29","src":{"id":"_OUTPUT","moduleid":"sw-405"},"tgt":{"id":"_INPUT","moduleid":"sw-388"}},{"id":"_w30","src":{"id":"_OUTPUT","moduleid":"sw-418"},"tgt":{"id":"RULE_1_value","moduleid":"sw-263"}},{"id":"_w31","src":{"id":"_OUTPUT","moduleid":"sw-422"},"tgt":{"id":"count","moduleid":"sw-365"}},{"id":"_w32","src":{"id":"_OUTPUT","moduleid":"sw-422"},"tgt":{"id":"count","moduleid":"sw-277"}}]}
